<!DOCTYPE html>
<html>
<head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
    body, html { 
        margin: 0; padding: 0; width: 100%; height: 100%; 
        overflow: hidden; background-color: #000; 
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    #player-container { 
        position: relative; width: 100%; height: 100%; 
        display: flex; justify-content: center; align-items: center;
    }
    #player { 
        max-width: calc(100vh * 9 / 16); width: 100%; height: 100%;
        pointer-events: none; /* ëª¨ë“  í™˜ê²½ì—ì„œ í”Œë ˆì´ì–´ ì§ì ‘ í„°ì¹˜/í´ë¦­ ë°©ì§€ */
    }
    #touchOverlay {
        position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        z-index: 5;
    }
    #unmuteButton {
        position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        padding: 15px 25px; font-size: 18px; font-weight: bold; color: white; 
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid rgba(255, 255, 255, 0.8); border-radius: 30px; 
        cursor: pointer; z-index: 10;
        backdrop-filter: blur(10px);
    }
    #errorMessage {
        position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        color: white; background: rgba(200, 0, 0, 0.8);
        padding: 20px; border-radius: 15px; text-align: center; max-width: 80%;
        display: none; z-index: 20;
    }
    /* [ìˆ˜ì •] ì˜ìƒ ì¹´ìš´íŠ¸ ìˆ¨ê¹€ ì²˜ë¦¬ */
    #videoInfo {
        display: none;
    }
</style>
    <meta property="og:title" content="ë‚˜ë§Œì˜ ì‡¼ì¸  í”Œë ˆì´ì–´"/>
    <meta property="og:description" content="ìµœì‹  ì‡¼ì¸ ë¥¼ ì—°ì†ìœ¼ë¡œ ì¬ìƒí•©ë‹ˆë‹¤"/>
    <meta property="og:image" content=""/>
    <meta property="og:url" content=""/>
    <meta property="og:type" content="website" />
</head>
<body>
    <div id="player-container">
        <div id="player"></div>
        <div id="touchOverlay"></div>
        <button id="unmuteButton">ğŸ”Š ì†Œë¦¬ ì¼œê¸°</button>
        <div id="errorMessage"></div>
        <div id="videoInfo">
            <span id="currentVideoIndex">1</span> / <span id="totalVideos">1</span>
        </div>
    </div>
    
    <script>
        const videoIds = ["7Gsa74jeJYA"];
        let player;
        let currentVideoIndex = 0;

        function onYouTubeIframeAPIReady() {
            if (videoIds && videoIds.length > 0) {
                player = new YT.Player('player', {
                    height: '100%', width: '100%', 
                    videoId: videoIds[0],
                    playerVars: { 
                        'autoplay': 1, 'mute': 1, 'controls': 0, 'rel': 0, 
                        'playsinline': 1, 'loop': 1, 'playlist': videoIds.join(','),
                        'modestbranding': 1, 'iv_load_policy': 3
                    },
                    events: { 
                        'onReady': onPlayerReady, 
                        'onStateChange': onPlayerStateChange,
                        'onError': onPlayerError
                    }
                });
            } else {
                document.getElementById('player-container').innerHTML = 
                    "<h1 style='color: white; text-align: center;'>ì¬ìƒí•  ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤.</h1>";
            }
        }

        function onPlayerReady(event) {
            const unmuteBtn = document.getElementById('unmuteButton');
            if (player.isMuted()) { 
                unmuteBtn.style.display = 'block'; 
            }
            unmuteBtn.addEventListener('click', () => {
                player.unMute();
                player.playVideo(); // iOSì—ì„œ ìŒì†Œê±° í•´ì œ í›„ ìë™ì¬ìƒ ì•ˆë  ë•Œë¥¼ ëŒ€ë¹„
                unmuteBtn.style.display = 'none';
            });
            setupSwipeListeners();
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                const unmuteBtn = document.getElementById('unmuteButton');
                if (!player.isMuted()) {
                    unmuteBtn.style.display = 'none';
                }
            } else if (event.data === YT.PlayerState.ENDED) {
                playNextVideo();
            }
        }
        
        function onPlayerError(event) {
            console.log('í”Œë ˆì´ì–´ ì˜¤ë¥˜:', event.data, 'ë‹¤ìŒ ì˜ìƒìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.');
            setTimeout(playNextVideo, 1000); // 1ì´ˆ í›„ ë‹¤ìŒ ì˜ìƒìœ¼ë¡œ
        }
        
        function setupSwipeListeners() {
            const container = document.getElementById('touchOverlay');
            if (!container) return;
            
            let startY = 0;
            let isSwipeLocked = false;
            
            container.addEventListener('touchstart', (e) => {
                if (e.touches.length === 1 && !isSwipeLocked) {
                    startY = e.touches[0].clientY;
                }
            }, { passive: true });
            
            container.addEventListener('touchend', (e) => {
                if (e.changedTouches.length === 1 && !isSwipeLocked) {
                    const endY = e.changedTouches[0].clientY;
                    const deltaY = startY - endY;
                    
                    if (Math.abs(deltaY) > 50) { // 50px ì´ìƒ ì›€ì§ì´ë©´ ìŠ¤ì™€ì´í”„ë¡œ ê°„ì£¼
                        isSwipeLocked = true;
                        if (deltaY > 0) {
                            playNextVideo(); // ìœ„ë¡œ ìŠ¤ì™€ì´í”„ = ë‹¤ìŒ ì˜ìƒ
                        } else {
                            playPreviousVideo(); // ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„ = ì´ì „ ì˜ìƒ
                        }
                        setTimeout(() => { isSwipeLocked = false; }, 700); // 0.7ì´ˆ ë”œë ˆì´
                    }
                }
            }, { passive: true });

            // [ìˆ˜ì •] í„°ì¹˜ ì‹œ ì¬ìƒ/ì •ì§€í•˜ëŠ” 'click' ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
        }

        function playNextVideo() {
            player.nextVideo();
        }

        function playPreviousVideo() {
            player.previousVideo();
        }

        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowUp':
                case 'ArrowLeft':
                    e.preventDefault();
                    playPreviousVideo();
                    break;
                case 'ArrowDown':
                case 'ArrowRight':
                    e.preventDefault();
                    playNextVideo();
                    break;
                case ' ':
                    e.preventDefault();
                    const playerState = player.getPlayerState();
                    if (playerState === YT.PlayerState.PLAYING) {
                        player.pauseVideo();
                    } else {
                        player.playVideo();
                    }
                    break;
            }
        });
    </script>
    <script async src="https://www.youtube.com/iframe_api"></script>
</body>
</html>